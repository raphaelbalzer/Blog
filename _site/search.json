[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Blog",
    "section": "",
    "text": "Miniprojekt DS\n\n\n\n\n\n\n\n\n\n\n\n\nOct 25, 2023\n\n\nRaphael Balzer\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/Goldener-Topf_Analyse/index.html",
    "href": "posts/Goldener-Topf_Analyse/index.html",
    "title": "Miniprojekt DS",
    "section": "",
    "text": "library(tokenizers)\nlibrary(tidyverse)\nlibrary(tidytext)\nlibrary(ggthemes)\nlibrary(topicmodels)\nlibrary(tm)\n\n\n\nTextanalyse von E.T.A-Hoffmanns “Der goldene Topf”.\n\ntopf &lt;- read.delim2(\"https://www.gutenberg.org/cache/epub/17362/pg17362.txt\")\ntopf &lt;- as_tibble(topf)\ntopf &lt;- topf[-c(1:24, 2678:2979), ]\ntopf\n\n# A tibble: 2,653 × 1\n   The.Project.Gutenberg.eBook.of.Der.Goldene.Topf                  \n   &lt;chr&gt;                                                            \n 1 DER GOLDENE TOPF                                                 \n 2 von                                                              \n 3 E.T.A. HOFFMANN:                                                 \n 4 Mit 11 Federzeichnungen von Edmund Schaefer                      \n 5 [Illustration: Titelbild. Die Frauenkirche in Dresden]           \n 6 Erstes bis fünftes Tausend                                       \n 7 Verlag von Gustav Kiepenheuer Weimar 1913                        \n 8 ERSTE VIGILIE.                                                   \n 9 Die Unglücksfälle des Studenten Anselmus. Des Konrektors Paulmann\n10 Sanitätsknaster und die goldgrünen Schlangen.                    \n# ℹ 2,643 more rows\n\n\n\n\n\ntopf_token &lt;- topf %&gt;% \n  unnest_tokens(output = token, input = The.Project.Gutenberg.eBook.of.Der.Goldene.Topf) %&gt;% \n  filter(str_detect(token, \"[a-z]\"))\ntopf_token\n\n# A tibble: 29,219 × 1\n   token           \n   &lt;chr&gt;           \n 1 der             \n 2 goldene         \n 3 topf            \n 4 von             \n 5 e.t.a           \n 6 hoffmann        \n 7 mit             \n 8 federzeichnungen\n 9 von             \n10 edmund          \n# ℹ 29,209 more rows\n\n\n\n\n\n\ndata(stopwords_de, package = \"lsa\")\n\nstopwords_de &lt;- tibble(word = stopwords_de)\n\nstopwords_de &lt;- stopwords_de %&gt;% \n  rename(token = word)  \n\ntopf_token &lt;- topf_token %&gt;% \n  anti_join(stopwords_de)\n\nJoining with `by = join_by(token)`\n\ntopf_token %&gt;% \n  count(token, sort = TRUE) %&gt;% \n  print()\n\n# A tibble: 5,508 × 2\n   token           n\n   &lt;chr&gt;       &lt;int&gt;\n 1 er            446\n 2 anselmus      291\n 3 archivarius   160\n 4 denn          151\n 5 du            144\n 6 nun           137\n 7 ihn           118\n 8 veronika      105\n 9 student        97\n10 wohl           94\n# ℹ 5,498 more rows\n\n\n\n\n\n\n\ndata(sentiws, package = \"pradadata\")\ntopf_senti &lt;- topf_token %&gt;% \n  inner_join(sentiws, by = c(\"token\" = \"word\")) %&gt;% \n  select(-inflections)\n\nWarning in inner_join(., sentiws, by = c(token = \"word\")): Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 2698 of `x` matches multiple rows in `y`.\nℹ Row 3187 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\ntopf_senti\n\n# A tibble: 600 × 3\n   token     neg_pos   value\n   &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;\n 1 glücklich pos      0.115 \n 2 besonders pos      0.539 \n 3 schnell   pos      0.117 \n 4 lachen    pos      0.0135\n 5 entziehen neg     -0.0048\n 6 weise     pos      0.224 \n 7 festlich  pos      0.202 \n 8 kurz      neg     -0.0048\n 9 langsam   neg     -0.0167\n10 einsam    neg     -0.163 \n# ℹ 590 more rows\n\n\n\ntopf_senti %&gt;%\n  count(token, neg_pos, sort = TRUE) %&gt;%\n  ungroup() %&gt;%\n  group_by(neg_pos) %&gt;%\n  slice_max(n, n = 10)%&gt;%\n  ungroup() %&gt;%\n  mutate(token = reorder(token, n)) %&gt;%\n  ggplot(aes(n, token, fill = neg_pos)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~neg_pos, scales = \"free_y\") +\n  labs(x = \"Häufigkeit\",\n       y = \"Wort\") +\n  theme_minimal() +\n  scale_fill_tableau(palette = \"Nuriel Stone\")\n\n\n\n\n\ntopf_senti %&gt;% \n  group_by(neg_pos) %&gt;% \n  summarise(polarity_sum = sum(value),\n            polarity_count = n()) %&gt;% \n  mutate(polarity_prop = (polarity_count / sum(polarity_count)) %&gt;% \n           round(2))\n\n# A tibble: 2 × 4\n  neg_pos polarity_sum polarity_count polarity_prop\n  &lt;chr&gt;          &lt;dbl&gt;          &lt;int&gt;         &lt;dbl&gt;\n1 neg            -29.5            184          0.31\n2 pos             72.3            416          0.69\n\n\n\ntopf_senti %&gt;% \n  distinct(token, .keep_all = TRUE) %&gt;% \n  mutate(value_abs = abs(value)) %&gt;%\n  group_by(neg_pos) %&gt;%\n  top_n(10, value_abs) %&gt;%\n  mutate(token = reorder(token, value_abs)) %&gt;%\n  ggplot(aes(value_abs, token, fill = neg_pos)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~neg_pos, scales = \"free_y\") +\n  labs(x = \"Effektstärke\",\n       y = \"Wort\") +\n  theme_minimal() +\n  scale_fill_tableau(palette = \"Nuriel Stone\")\n\n\n\n\n\n\n\nHäufigkeiten der Bigramme\n\ntopf_bigram &lt;- \n  topf %&gt;%\n  unnest_tokens(bigram, The.Project.Gutenberg.eBook.of.Der.Goldene.Topf, token = \"ngrams\", n = 2) %&gt;%\n  filter(!is.na(bigram))\n\n\ntopf_bigram %&gt;% \ncount(bigram, sort = TRUE) %&gt;% \n  print()\n\n# A tibble: 19,046 × 2\n   bigram                    n\n   &lt;chr&gt;                 &lt;int&gt;\n 1 in der                   89\n 2 der student              85\n 3 student anselmus         77\n 4 archivarius lindhorst    72\n 5 der archivarius          67\n 6 in den                   49\n 7 in die                   49\n 8 der konrektor            46\n 9 in dem                   46\n10 konrektor paulmann       46\n# ℹ 19,036 more rows\n\n\n\n\n\ntopf_bigra_sep &lt;- topf_bigram %&gt;%\n  separate(bigram, c(\"word1\", \"word2\"), sep = \" \")%&gt;%\n  filter(!word1 %in% stop_words$word) %&gt;%\n  filter(!word2 %in% stop_words$word)\n\ntopf_bigra_sep %&gt;%\n  unite(bigram, word1, word2, sep = \" \") %&gt;%\n  count(bigram, sort = TRUE) %&gt;%\n  slice_max(n, n = 10)%&gt;%\n  mutate(bigram = reorder(bigram, n)) %&gt;%\n  ggplot(aes(n, bigram)) +\n  geom_col(fill = \"#8175aa\") +\n  labs(x = \"Häufigkeit\",\n       y = \"Bigram\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nVerneinungen &lt;- c(\"nicht\", \"nie\", \"niemals\", \"keine\", \"kein\")\n\ntopf_bigra_sep %&gt;%\n  filter(word1 %in% Verneinungen) %&gt;%\n  inner_join(sentiws, by = c(word2 = \"word\")) %&gt;%\n  count(word1, word2, value, sort = TRUE) %&gt;% \n  mutate(Beitrag = n * value) %&gt;%\n  arrange(desc(abs(Beitrag))) %&gt;%\n  head(20) %&gt;%\n  mutate(word2 = reorder(word2, Beitrag)) %&gt;%\n  ggplot(aes(n * value, word2, fill = n * value &gt; 0)) +\n  geom_col(show.legend = FALSE) +\n  labs(x = \"Sentiment-Wert * Häufigkeit\",\n       y = \"Verneinungen\") +\n  theme_minimal()+\n  scale_fill_tableau(\"Nuriel Stone\")\n\n\n\n\n\n\n\n\n\ntopf_dtm &lt;- DocumentTermMatrix(topf_token)\ntopf_lda &lt;- LDA(topf_dtm, k = 4, control = list(seed = 42))\n\n\ntopf_themen &lt;- tidy(topf_lda, matrix = \"beta\")\n\ntopf_themen &lt;- topf_themen %&gt;%\n  group_by(topic) %&gt;%\n  slice_max(beta, n = 10) %&gt;% \n  ungroup() %&gt;%\n  arrange(topic, -beta)\n\ntopf_themen %&gt;%\n  mutate(term = reorder_within(term, beta, topic)) %&gt;%\n  ggplot(aes(beta, term, fill = factor(topic))) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~ topic, scales = \"free\") +\n  scale_y_reordered() +\n  theme_minimal() +\n  scale_fill_tableau(\"Nuriel Stone\")"
  },
  {
    "objectID": "posts/Goldener-Topf_Analyse/index.html#datenimport",
    "href": "posts/Goldener-Topf_Analyse/index.html#datenimport",
    "title": "Miniprojekt DS",
    "section": "",
    "text": "Textanalyse von E.T.A-Hoffmanns “Der goldene Topf”.\n\ntopf &lt;- read.delim2(\"https://www.gutenberg.org/cache/epub/17362/pg17362.txt\")\ntopf &lt;- as_tibble(topf)\ntopf &lt;- topf[-c(1:24, 2678:2979), ]\ntopf\n\n# A tibble: 2,653 × 1\n   The.Project.Gutenberg.eBook.of.Der.Goldene.Topf                  \n   &lt;chr&gt;                                                            \n 1 DER GOLDENE TOPF                                                 \n 2 von                                                              \n 3 E.T.A. HOFFMANN:                                                 \n 4 Mit 11 Federzeichnungen von Edmund Schaefer                      \n 5 [Illustration: Titelbild. Die Frauenkirche in Dresden]           \n 6 Erstes bis fünftes Tausend                                       \n 7 Verlag von Gustav Kiepenheuer Weimar 1913                        \n 8 ERSTE VIGILIE.                                                   \n 9 Die Unglücksfälle des Studenten Anselmus. Des Konrektors Paulmann\n10 Sanitätsknaster und die goldgrünen Schlangen.                    \n# ℹ 2,643 more rows\n\n\n\n\n\ntopf_token &lt;- topf %&gt;% \n  unnest_tokens(output = token, input = The.Project.Gutenberg.eBook.of.Der.Goldene.Topf) %&gt;% \n  filter(str_detect(token, \"[a-z]\"))\ntopf_token\n\n# A tibble: 29,219 × 1\n   token           \n   &lt;chr&gt;           \n 1 der             \n 2 goldene         \n 3 topf            \n 4 von             \n 5 e.t.a           \n 6 hoffmann        \n 7 mit             \n 8 federzeichnungen\n 9 von             \n10 edmund          \n# ℹ 29,209 more rows\n\n\n\n\n\n\ndata(stopwords_de, package = \"lsa\")\n\nstopwords_de &lt;- tibble(word = stopwords_de)\n\nstopwords_de &lt;- stopwords_de %&gt;% \n  rename(token = word)  \n\ntopf_token &lt;- topf_token %&gt;% \n  anti_join(stopwords_de)\n\nJoining with `by = join_by(token)`\n\ntopf_token %&gt;% \n  count(token, sort = TRUE) %&gt;% \n  print()\n\n# A tibble: 5,508 × 2\n   token           n\n   &lt;chr&gt;       &lt;int&gt;\n 1 er            446\n 2 anselmus      291\n 3 archivarius   160\n 4 denn          151\n 5 du            144\n 6 nun           137\n 7 ihn           118\n 8 veronika      105\n 9 student        97\n10 wohl           94\n# ℹ 5,498 more rows"
  },
  {
    "objectID": "posts/Goldener-Topf_Analyse/index.html#sentimentanalyse",
    "href": "posts/Goldener-Topf_Analyse/index.html#sentimentanalyse",
    "title": "Miniprojekt DS",
    "section": "",
    "text": "data(sentiws, package = \"pradadata\")\ntopf_senti &lt;- topf_token %&gt;% \n  inner_join(sentiws, by = c(\"token\" = \"word\")) %&gt;% \n  select(-inflections)\n\nWarning in inner_join(., sentiws, by = c(token = \"word\")): Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 2698 of `x` matches multiple rows in `y`.\nℹ Row 3187 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\ntopf_senti\n\n# A tibble: 600 × 3\n   token     neg_pos   value\n   &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;\n 1 glücklich pos      0.115 \n 2 besonders pos      0.539 \n 3 schnell   pos      0.117 \n 4 lachen    pos      0.0135\n 5 entziehen neg     -0.0048\n 6 weise     pos      0.224 \n 7 festlich  pos      0.202 \n 8 kurz      neg     -0.0048\n 9 langsam   neg     -0.0167\n10 einsam    neg     -0.163 \n# ℹ 590 more rows\n\n\n\ntopf_senti %&gt;%\n  count(token, neg_pos, sort = TRUE) %&gt;%\n  ungroup() %&gt;%\n  group_by(neg_pos) %&gt;%\n  slice_max(n, n = 10)%&gt;%\n  ungroup() %&gt;%\n  mutate(token = reorder(token, n)) %&gt;%\n  ggplot(aes(n, token, fill = neg_pos)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~neg_pos, scales = \"free_y\") +\n  labs(x = \"Häufigkeit\",\n       y = \"Wort\") +\n  theme_minimal() +\n  scale_fill_tableau(palette = \"Nuriel Stone\")\n\n\n\n\n\ntopf_senti %&gt;% \n  group_by(neg_pos) %&gt;% \n  summarise(polarity_sum = sum(value),\n            polarity_count = n()) %&gt;% \n  mutate(polarity_prop = (polarity_count / sum(polarity_count)) %&gt;% \n           round(2))\n\n# A tibble: 2 × 4\n  neg_pos polarity_sum polarity_count polarity_prop\n  &lt;chr&gt;          &lt;dbl&gt;          &lt;int&gt;         &lt;dbl&gt;\n1 neg            -29.5            184          0.31\n2 pos             72.3            416          0.69\n\n\n\ntopf_senti %&gt;% \n  distinct(token, .keep_all = TRUE) %&gt;% \n  mutate(value_abs = abs(value)) %&gt;%\n  group_by(neg_pos) %&gt;%\n  top_n(10, value_abs) %&gt;%\n  mutate(token = reorder(token, value_abs)) %&gt;%\n  ggplot(aes(value_abs, token, fill = neg_pos)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~neg_pos, scales = \"free_y\") +\n  labs(x = \"Effektstärke\",\n       y = \"Wort\") +\n  theme_minimal() +\n  scale_fill_tableau(palette = \"Nuriel Stone\")"
  },
  {
    "objectID": "posts/Goldener-Topf_Analyse/index.html#n-gram---analyse",
    "href": "posts/Goldener-Topf_Analyse/index.html#n-gram---analyse",
    "title": "Miniprojekt DS",
    "section": "",
    "text": "Häufigkeiten der Bigramme\n\ntopf_bigram &lt;- \n  topf %&gt;%\n  unnest_tokens(bigram, The.Project.Gutenberg.eBook.of.Der.Goldene.Topf, token = \"ngrams\", n = 2) %&gt;%\n  filter(!is.na(bigram))\n\n\ntopf_bigram %&gt;% \ncount(bigram, sort = TRUE) %&gt;% \n  print()\n\n# A tibble: 19,046 × 2\n   bigram                    n\n   &lt;chr&gt;                 &lt;int&gt;\n 1 in der                   89\n 2 der student              85\n 3 student anselmus         77\n 4 archivarius lindhorst    72\n 5 der archivarius          67\n 6 in den                   49\n 7 in die                   49\n 8 der konrektor            46\n 9 in dem                   46\n10 konrektor paulmann       46\n# ℹ 19,036 more rows\n\n\n\n\n\ntopf_bigra_sep &lt;- topf_bigram %&gt;%\n  separate(bigram, c(\"word1\", \"word2\"), sep = \" \")%&gt;%\n  filter(!word1 %in% stop_words$word) %&gt;%\n  filter(!word2 %in% stop_words$word)\n\ntopf_bigra_sep %&gt;%\n  unite(bigram, word1, word2, sep = \" \") %&gt;%\n  count(bigram, sort = TRUE) %&gt;%\n  slice_max(n, n = 10)%&gt;%\n  mutate(bigram = reorder(bigram, n)) %&gt;%\n  ggplot(aes(n, bigram)) +\n  geom_col(fill = \"#8175aa\") +\n  labs(x = \"Häufigkeit\",\n       y = \"Bigram\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nVerneinungen &lt;- c(\"nicht\", \"nie\", \"niemals\", \"keine\", \"kein\")\n\ntopf_bigra_sep %&gt;%\n  filter(word1 %in% Verneinungen) %&gt;%\n  inner_join(sentiws, by = c(word2 = \"word\")) %&gt;%\n  count(word1, word2, value, sort = TRUE) %&gt;% \n  mutate(Beitrag = n * value) %&gt;%\n  arrange(desc(abs(Beitrag))) %&gt;%\n  head(20) %&gt;%\n  mutate(word2 = reorder(word2, Beitrag)) %&gt;%\n  ggplot(aes(n * value, word2, fill = n * value &gt; 0)) +\n  geom_col(show.legend = FALSE) +\n  labs(x = \"Sentiment-Wert * Häufigkeit\",\n       y = \"Verneinungen\") +\n  theme_minimal()+\n  scale_fill_tableau(\"Nuriel Stone\")"
  },
  {
    "objectID": "posts/Goldener-Topf_Analyse/index.html#themenanalyse",
    "href": "posts/Goldener-Topf_Analyse/index.html#themenanalyse",
    "title": "Miniprojekt DS",
    "section": "",
    "text": "topf_dtm &lt;- DocumentTermMatrix(topf_token)\ntopf_lda &lt;- LDA(topf_dtm, k = 4, control = list(seed = 42))\n\n\ntopf_themen &lt;- tidy(topf_lda, matrix = \"beta\")\n\ntopf_themen &lt;- topf_themen %&gt;%\n  group_by(topic) %&gt;%\n  slice_max(beta, n = 10) %&gt;% \n  ungroup() %&gt;%\n  arrange(topic, -beta)\n\ntopf_themen %&gt;%\n  mutate(term = reorder_within(term, beta, topic)) %&gt;%\n  ggplot(aes(beta, term, fill = factor(topic))) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~ topic, scales = \"free\") +\n  scale_y_reordered() +\n  theme_minimal() +\n  scale_fill_tableau(\"Nuriel Stone\")"
  }
]